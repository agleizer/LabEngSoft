<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Caminho Fácil - Detalhes</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="assets/css/style.css" />
	</head>
	<body class="bg-light">
		<nav class="navbar navbar-dark bg-success fixed-top">
			<div class="container-fluid">
				<a class="navbar-brand" href="index.html">← Voltar</a>
				<span class="navbar-text text-white">Detalhes da Rua</span>
			</div>
		</nav>

		<div class="container mt-5 pt-4">
			<h4 id="titulo-rua" class="my-3">Rua selecionada</h4>
			<button id="btnRota" class="btn btn-outline-success mb-3">Traçar rota</button>

			<div class="mb-4">
				<h6>Avaliação Média</h6>
				<p>★★★★☆ (4.2)</p>
				<a href="avaliacao.html" class="btn btn-primary btn-sm">Fazer avaliação</a>
			</div>

			<div class="mb-3">
				<h6>Fotos Recentes</h6>
				<img src="assets/img/rua.png" class="img-fluid rounded" alt="Rua" />
			</div>

			<div class="mb-3">
				<h6>Características</h6>
				<ul>
					<li>Piso tátil presente</li>
					<li>Rebaixamento de guia adequado</li>
					<li>Boa iluminação</li>
				</ul>
			</div>

			<div>
				<h6>Comentários</h6>
				<p><strong>Maria:</strong> Calçada em ótimo estado!</p>
				<p><strong>João:</strong> Há um pequeno desnível perto da esquina.</p>
			</div>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

		<script>
			document.addEventListener("DOMContentLoaded", () => {
				// --- lê parâmetro da URL ---
				const params = new URLSearchParams(window.location.search);
				const rua = params.get("rua");
				const titulo = document.getElementById("titulo-rua");
				const btnRota = document.getElementById("btnRota");

				if (rua && titulo) {
					titulo.textContent = decodeURIComponent(rua);
					console.log("Rua detectada:", rua);
				} else if (titulo) {
					titulo.textContent = "Rua não informada";
					console.warn("Nenhum parâmetro 'rua' encontrado.");
				}

				// --- botão 'Traçar rota' ---
				btnRota.addEventListener("click", () => {
					if (rua) {
						window.location.href = `rotas.html?rua=${encodeURIComponent(rua)}`;
					} else {
						alert("Rua não identificada.");
					}
				});
			});
		</script>
	</body>
</html>
